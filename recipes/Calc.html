<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balanced Undecimal Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        .calculator {
            display: inline-block;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .buttons {
            margin-top: 10px;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h2>Balanced Undecimal Calculator</h2>
        <input type="text" id="inputField" readonly>
        <div class="buttons">
            <button onclick="appendToInput('6')">6</button>
            <button onclick="appendToInput('L')">L</button>
            <button onclick="appendToInput('w')">w</button>
            <button onclick="appendToInput('d')">d</button>
            <button onclick="appendToInput('q')">q</button>
            <button onclick="appendToInput('o')">o</button>
            <button onclick="appendToInput('p')">p</button>
            <button onclick="appendToInput('b')">b</button>
            <button onclick="appendToInput('m')">m</button>
            <button onclick="appendToInput('7')">7</button>
            <button onclick="appendToInput('9')">9</button>
        </div>
        <div class="buttons">
            <button onclick="appendToInput('+')">+</button>
            <button onclick="appendToInput('×')">×</button>
            <button onclick="appendToInput('/')">/</button>
            <button onclick="clearInput()">C</button>
            <button onclick="calculate()">=</button>
        </div>
        <div>
            <label for="outputField">Result:</label>
            <input type="text" id="outputField" readonly>
        </div>
    </div>

    <script>
        const undecimalSymbols = ['6', 'L', 'w', 'd', 'q', 'o', 'p', 'b', 'm', '7', '9'];
        const undecimalValues = [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5];

        function appendToInput(symbol) {
            const inputField = document.getElementById("inputField");
            inputField.value += symbol;
        }

        function clearInput() {
            document.getElementById("inputField").value = "";
            document.getElementById("outputField").value = "";
        }

        function calculate() {
            const input = document.getElementById("inputField").value;
            let result;

            if (input.includes('+')) {
                const [a, b] = input.split('+');
                result = addUndecimal(a, b);
            } else if (input.includes('×')) {
                const [a, b] = input.split('×');
                result = multiplyUndecimal(a, b);
            } else if (input.includes('/')) {
                const [a, b] = input.split('/');
                result = undecimalToFraction(a + '/' + b);
            }

            document.getElementById("outputField").value = result;
        }

        function undecimalToDecimal(undecimalStr) {
            let decimalValue = 0;
            for (let i = 0; i < undecimalStr.length; i++) {
                decimalValue = decimalValue * 11 + undecimalValues[undecimalSymbols.indexOf(undecimalStr[i])];
            }
            return decimalValue;
        }

        function decimalToUndecimal(decimalValue) {
            let undecimalStr = '';
            while (decimalValue !== 0) {
                const remainder = decimalValue % 11;
                decimalValue = (decimalValue - remainder) / 11;
                undecimalStr = undecimalSymbols[remainder + 5] + undecimalStr;
            }
            return undecimalStr || 'o';
        }

        function addUndecimal(a, b) {
            const decimalResult = undecimalToDecimal(a) + undecimalToDecimal(b);
            return decimalToUndecimal(decimalResult);
        }

        function multiplyUndecimal(a, b) {
            const decimalResult = undecimalToDecimal(a) * undecimalToDecimal(b);
            return decimalToUndecimal(decimalResult);
        }

        function undecimalToFraction(undecimalFraction) {
            const [numerator, denominator] = undecimalFraction.split('/');
            return `${decimalToUndecimal(undecimalToDecimal(numerator))}/${decimalToUndecimal(undecimalToDecimal(denominator))}`;
        }
    </script>
</body>
</html>
